webpackJsonp([0,4],{138:function(t,e,n){"use strict";var r=n(0),i=n(76),o=(n.n(i),n(458));n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){var t=this;this.pianoKeyMap={},this.pianoNoteMap={},this.pianoNotePlayedSource=new i.Subject,this.notePlayed$=this.pianoNotePlayedSource.asObservable(),this.pianoKeyMap={16:["c2"],17:["c2s","d2f"],18:["d2"],19:["d2s","e2f"],20:["e2"],21:["f2"],22:["f2s","g2f"],23:["g2"],24:["g2s","a2f"],25:["a2"],26:["a2s","b2f"],27:["b2"],28:["c3"],29:["c3s","d3f"],30:["d3"],31:["d3s","e3f"],32:["e3"],33:["f3"],34:["f3s","g3f"],35:["g3"],36:["g3s","a3f"],37:["a3"],38:["a3s","b3f"],39:["b3"],40:["c4"],41:["c4s","d4f"],42:["d4"],43:["d4s","e4f"],44:["e4"],45:["f4"],46:["f4s","g4f"],47:["g4"],48:["g4s","a4f"],49:["a4"],50:["a4s","b4f"],51:["b4"],52:["c5"],53:["c5s","d5f"],54:["d5"],55:["d5s","e5f"],56:["e5"],57:["f5"],58:["f5s","g5f"],59:["g5"],60:["g5s","a5f"],61:["a5"],62:["a5s","b5f"],63:["b5"],64:["c6"]},Object.keys(this.pianoKeyMap).forEach(function(e){return t.pianoKeyMap[e].forEach(function(n){return t.pianoNoteMap[n]=e})})}return t.prototype.getNote=function(t){if(this.pianoNoteMap.hasOwnProperty(t)){var e=parseInt(this.pianoNoteMap[t]);return new o.a(e,t)}throw new Error("Invalid noteId.")},t.prototype.getNoteByKeyId=function(t){if(this.pianoKeyMap.hasOwnProperty(t)){var e=this.pianoKeyMap[t][0];return new o.a(t,e)}throw new Error("Invalid keyId. The valid range of keyId is 16 to 64.")},t.prototype.playNote=function(t){var e=this.getNote(t);this.pianoNotePlayedSource.next(e)},t.prototype.playNoteByKeyId=function(t){var e=this.getNoteByKeyId(t);this.pianoNotePlayedSource.next(e)},t.prototype.getAlternateNote=function(t){if(!this.pianoNoteMap.hasOwnProperty(t))throw new Error("Invalid noteId");var e,n=parseInt(this.pianoNoteMap[t]),r=this.pianoKeyMap[n];return r.length>1&&(e=r[0]==t?new o.a(n,r[1]):new o.a(n,r[0])),e},t.prototype.getAllNoteIds=function(){return Object.keys(this.pianoNoteMap)},t.prototype.getAllNaturalNoteIds=function(t,e){void 0===t&&(t=2),void 0===e&&(e=6);var n=[];return Object.keys(this.pianoNoteMap).forEach(function(r){if(2==r.length){var i=parseInt(r[1]);i>=t&&i<=e&&n.push(r)}}),n},t=a([n.i(r.R)(),s("design:paramtypes",[])],t)}()},139:function(t,e,n){"use strict";var r=n(0),i=n(76),o=(n.n(i),n(459)),a=n(202);n.d(e,"a",function(){return d});var s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(){this.quizLength=16,this.quizNotes=[],this.quizResults=[],this.quizIndex=0,this.inProgress=!1,this.score=0,this.correct=0,this.incorrect=0,this.status=a.a.None,this.quizResultSource=new i.Subject,this.quizResult$=this.quizResultSource.asObservable()}return t.prototype.startQuiz=function(t,e){this.quizLength=t,this.quizNotes.length=0,this.quizResults.length=0,this.inProgress=!0,this.quizIndex=0,this.score=0,this.correct=0,this.incorrect=0;for(var n=0;n<this.quizLength;n++)this.quizNotes.push(e[Math.floor(Math.random()*e.length)])},t.prototype.getCurrentNoteId=function(){return this.quizNotes[this.quizIndex]},t.prototype.next=function(){return this.quizIndex==this.quizLength-1?(this.inProgress=!1,!1):(this.quizIndex++,!0)},t.prototype.recordResult=function(t,e){t==e.keyId?(this.score++,this.correct++):this.incorrect++;var n=new o.a;n.selectedKeyId=t,n.actualNote=e,n.quizNumber=this.quizIndex+1,this.quizResults.push(n),this.quizResultSource.next(n)},t=s([n.i(r.R)(),c("design:paramtypes",[])],t)}()},201:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r;!function(t){t[t.Play=0]="Play",t[t.Quiz=1]="Quiz"}(r||(r={}))},202:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r;!function(t){t[t.Starting=0]="Starting",t[t.InProgress=1]="InProgress",t[t.Finished=2]="Finished",t[t.None=3]="None"}(r||(r={}))},301:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){this.buffers={}}return t.prototype.initialize=function(){console.log("initializing audio and loading sounds");try{"undefined"!=typeof AudioContext?this.context=new AudioContext:"undefined"!=typeof window.webkitAudioContext&&(this.context=new window.webkitAudioContext),this.loadSounds()}catch(t){alert("Web Audio API is not supported in this browser")}},t.prototype.playNote=function(t){if((t<16||t>64)&&new RangeError("Invalid keyId. The valid range of keyId is 16 to 64."),this.buffers.hasOwnProperty(t)){console.log("SoundService: playing key="+t);var e=this.context.createBufferSource();e.buffer=this.buffers[t],e.connect(this.context.destination),e.start(0)}else console.log("Audio not loaded for key="+t)},t.prototype.loadSounds=function(){for(var t=16;t<65;t++){var e="./assets/sounds/"+t+".wav";this.loadBuffer(t.toString(),e)}},t.prototype.loadBuffer=function(t,e){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer";var r=this.context,i=this.buffers;n.onload=function(){r.decodeAudioData(n.response,function(n){return n?void(i[t]=n):void alert("error decoding file data: "+e)},function(t){console.error("decodeAudioData error",t)})},n.onerror=function(){alert("BufferLoader: XHR error")},n.send()},t=i([n.i(r.R)(),o("design:paramtypes",[])],t)}()},302:function(t,e,n){"use strict";var r=n(0),i=n(303),o=n(138),a=n(139),s=n(201);n.d(e,"a",function(){return p});var c=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,n){var r=this;this.pianoService=t,this.notationService=e,this.quizService=n,this.subscription=t.notePlayed$.subscribe(function(t){return r.handleNotePlayed(t)}),n.quizResult$.subscribe(function(t){return r.handleQuizResult(t)})}return t.prototype.ngOnInit=function(){this.notationAsSVG=this.notationService.renderNotation(),this.noteColor=[]},t.prototype.ngAfterViewChecked=function(){var t=this;$("g.note").off().on("click",function(){t.noteClicked(this.id)});for(var e=0;e<this.noteColor.length;e++)this.noteColor[e]&&$("#"+e).attr("fill",this.noteColor[e])},t.prototype.handleNotePlayed=function(t){this.mode==s.a.Play&&(this.notationService.addNote(t),this.notationAsSVG=this.notationService.renderNotation())},t.prototype.handleQuizResult=function(t){var e="";e=t.selectedKeyId==t.actualNote.keyId?"#4CAF50":"#f44336",this.noteColor.push(e)},t.prototype.noteClicked=function(t){this.pianoService.playNote(this.notationService.notes[t].noteId)},t.prototype.clear=function(){this.noteColor.length=0,this.notationService.clear(),this.notationAsSVG=this.notationService.renderNotation()},t.prototype.addNote=function(t){this.notationService.addNote(t),this.notationAsSVG=this.notationService.renderNotation()},c([n.i(r.B)(),d("design:type","function"==typeof(e="undefined"!=typeof s.a&&s.a)&&e||Object)],t.prototype,"mode",void 0),t=c([n.i(r.G)({selector:"notation",template:n(628),styles:[n(621)]}),d("design:paramtypes",["function"==typeof(p="undefined"!=typeof o.a&&o.a)&&p||Object,"function"==typeof(l="undefined"!=typeof i.a&&i.a)&&l||Object,"function"==typeof(u="undefined"!=typeof a.a&&a.a)&&u||Object])],t);var e,p,l,u}()},303:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){this.maxNotes=16,this.spacingNotesXml=[],this.notes=[],this.vrvToolkit=new verovio.toolkit;for(var t=0;t<this.maxNotes;t++)this.spacingNotesXml.push('<note xml:id="rest-hidden-'+t.toString()+'" dur="4" oct="6" pname="c" stem.dir="up" />')}return t.prototype.clear=function(){this.notes.length=0},t.prototype.addNote=function(t){this.notes.length==this.maxNotes&&(this.notes.length=0),this.notes.push(t)},t.prototype.renderNotation=function(){for(var t=[],e=[],n=0;n<this.notes.length;n++){var r='<note xml:id="'+n+'" dur="4" oct="'+this.notes[n].octave+'" pname="'+this.notes[n].name+'" '+(this.notes[n].accidental?'accid="'+this.notes[n].accidental+'"':"")+" />",i='<rest xml:id="rest-'+n+'" dur="4" oct="'+this.notes[n].octave+'" pname="'+this.notes[n].name+'" '+(this.notes[n].accidental?'accid="'+this.notes[n].accidental+'"':"")+"/>";this.notes[n].octave>3?(t.push(r),e.push(i)):(t.push(i),e.push(r))}var o='<?xml version="1.0" encoding="UTF-8"?>\n    <?xml-model href="http://music-encoding.org/schema/3.0.0/mei-all.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0"?>\n    <?xml-model href="http://music-encoding.org/schema/3.0.0/mei-all.rng" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>\n    <mei xmlns="http://www.music-encoding.org/ns/mei" meiversion="3.0.0">\n      <music>\n          <body>\n                <mdiv>\n                  <score>\n                      <scoreDef>\n                            <staffGrp symbol="brace" label="">\n                              <staffDef clef.shape="G" clef.line="2" n="1" lines="5" />\n                              <staffDef clef.shape="F" clef.line="4" n="2" lines="5" />\n                            </staffGrp>\n                      </scoreDef>\n                      <section>\n                            <measure>\n                              <staff n="1">\n                                  <layer n="1" xml:id="layer-treple">\n                                        '+t.join("")+'\n                                  </layer>\n                                  <layer xml:id="layer-spacing" n="2">\n                                        '+this.spacingNotesXml.join("")+'\n                                  </layer>\n                              </staff>\n                              <staff n="2">\n                                  <layer xml:id="layer-bass" n="1">\n                                        '+e.join("")+"\n                                  </layer>\n                              </staff>\n                            </measure>\n                      </section>\n                  </score>\n                </mdiv>\n          </body>\n      </music>\n    </mei>",a={pageWidth:1e3,border:25,scale:80,adjustPageHeight:1},s=this.vrvToolkit.renderData(o,a);return s},t=i([n.i(r.R)(),o("design:paramtypes",[])],t)}()},345:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=345},346:function(t,e,n){"use strict";var r=n(466),i=(n.n(r),n(436)),o=n(0),a=n(465),s=n(457);a.a.production&&n.i(o._37)(),n.i(i.a)().bootstrapModule(s.a)},456:function(t,e,n){"use strict";var r=n(0),i=n(302),o=n(138),a=n(301),s=n(139),c=n(201),d=n(202);n.d(e,"a",function(){return u});var p=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n){var r=this;this.pianoService=t,this.soundService=e,this.quizService=n,this.PianoMode=c.a,this.title="Piano Play",this.mode=c.a.Play,this.quizScore=0,this.quizCorrect=0,this.quizIncorrect=0,this.quizLength=16,this.quizStatus=d.a.None,this.resultDescription="",this.delayMs=1e3,this.subscription=t.notePlayed$.subscribe(function(t){return r.handleNotePlayed(t)})}return t.prototype.ngOnInit=function(){this.soundService.initialize()},t.prototype.handleModeSelected=function(t){this.mode!=t&&(this.mode=t,this.mode==c.a.Quiz?this.newQuiz():this.notation.clear())},t.prototype.handleKeyPlayed=function(t){var e=this;this.mode==c.a.Play?this.pianoService.playNoteByKeyId(t):(this.soundService.playNote(t),this.quizService.inProgress&&(this.quizService.recordResult(t,this.currentTestNote),this.quizScore=this.quizService.score,this.quizCorrect=this.quizService.correct,this.quizIncorrect=this.quizService.incorrect,this.quizService.next()?(this.currentTestNote=this.pianoService.getNote(this.quizService.getCurrentNoteId()),this.notation.addNote(this.currentTestNote)):setTimeout(function(){return e.finishQuiz()},this.delayMs)))},t.prototype.handleNotePlayed=function(t){this.soundService.playNote(t.keyId)},t.prototype.handleButtonClicked=function(t){"start"==t.button?this.startQuiz(t.level):(t.button="try-again")&&this.newQuiz()},t.prototype.newQuiz=function(){this.notation.clear(),this.quizStatus=d.a.Starting},t.prototype.startQuiz=function(t){var e=[];e="easy"==t?this.pianoService.getAllNaturalNoteIds(3,4):"medium"==t?this.pianoService.getAllNaturalNoteIds():this.pianoService.getAllNoteIds(),this.quizService.startQuiz(this.quizLength,e),this.quizStatus=d.a.InProgress,this.quizScore=this.quizService.score,this.quizCorrect=this.quizService.correct,this.quizIncorrect=this.quizService.incorrect,this.currentTestNote=this.pianoService.getNote(this.quizService.getCurrentNoteId()),this.notation.addNote(this.currentTestNote)},t.prototype.finishQuiz=function(){this.quizScore==this.quizLength?this.resultDescription="Perfect score, awesome job!":this.quizScore>.8*this.quizLength?this.resultDescription="Great score, well done!":this.quizScore>.6*this.quizLength?this.resultDescription="Good score!":this.quizScore>.4*this.quizLength?this.resultDescription="Not bad, keep trying...":this.resultDescription="Hmm, you need more practise...",this.quizStatus=d.a.Finished},p([n.i(r._1)(i.a),l("design:type","function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object)],t.prototype,"notation",void 0),t=p([n.i(r.G)({selector:"app-root",template:n(626),styles:[n(619)]}),l("design:paramtypes",["function"==typeof(u="undefined"!=typeof o.a&&o.a)&&u||Object,"function"==typeof(f="undefined"!=typeof a.a&&a.a)&&f||Object,"function"==typeof(h="undefined"!=typeof s.a&&s.a)&&h||Object])],t);var e,u,f,h}()},457:function(t,e,n){"use strict";var r=n(136),i=n(0),o=n(426),a=n(432),s=n(149),c=n(456),d=n(460),p=n(302),l=n(462),u=n(461),f=n(463),h=n(138),y=n(139),g=n(301),b=n(303),v=n(464);n.d(e,"a",function(){return w});var x=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},m=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},w=function(){function t(){}return t=x([n.i(i.I)({declarations:[c.a,d.a,p.a,l.a,u.a,f.a,v.a],imports:[r.c,o.a,a.a,s.b],providers:[h.a,g.a,b.a,y.a],exports:[],bootstrap:[c.a]}),m("design:paramtypes",[])],t)}()},458:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e){if(this.keyId=t,this.noteId=e,t<16||t>64)throw new RangeError("Invalid keyId. The valid range of keyId is 16 to 64.");if(e.length<2||e.length>3)throw new RangeError("noteId is invalid");this.name=e[0].toLowerCase(),this.octave=parseInt(e[1]);var n="";3==e.length&&(this.accidental=e[2],"s"==this.accidental?n="♯":"f"==this.accidental&&(n="♭")),this.fullname=this.name.toUpperCase()+n}return t}()},459:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t}()},460:function(t,e,n){"use strict";var r=n(0);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){this.keyPlayed=new r._20,this.pianoKeys=[{whiteKeyId:16},{whiteKeyId:18,blackKeyId:17},{whiteKeyId:20,blackKeyId:19},{whiteKeyId:21},{whiteKeyId:23,blackKeyId:22},{whiteKeyId:25,blackKeyId:24},{whiteKeyId:27,blackKeyId:26},{whiteKeyId:28},{whiteKeyId:30,blackKeyId:29},{whiteKeyId:32,blackKeyId:31},{whiteKeyId:33},{whiteKeyId:35,blackKeyId:34},{whiteKeyId:37,blackKeyId:36},{whiteKeyId:39,blackKeyId:38},{whiteKeyId:40},{whiteKeyId:42,blackKeyId:41},{whiteKeyId:44,blackKeyId:43},{whiteKeyId:45},{whiteKeyId:47,blackKeyId:46},{whiteKeyId:49,blackKeyId:48},{whiteKeyId:51,blackKeyId:50},{whiteKeyId:52},{whiteKeyId:54,blackKeyId:53},{whiteKeyId:56,blackKeyId:55},{whiteKeyId:57},{whiteKeyId:59,blackKeyId:58},{whiteKeyId:61,blackKeyId:60},{whiteKeyId:63,blackKeyId:62},{whiteKeyId:64}]}return t.prototype.ngOnInit=function(){},t.prototype.keyPress=function(t){this.keyPlayed.emit(t)},i([n.i(r.C)(),o("design:type",Object)],t.prototype,"keyPlayed",void 0),t=i([n.i(r.G)({selector:"keyboard",template:n(627),styles:[n(620)]}),o("design:paramtypes",[])],t)}()},461:function(t,e,n){"use strict";var r=n(0),i=n(138);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){var e=this;this.pianoService=t,this.title="Play",this.subscription=t.notePlayed$.subscribe(function(t){e.title="Now playing",e.currentNote=t,e.alternateNote=e.pianoService.getAlternateNote(t.noteId)})}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.playNote=function(t){this.pianoService.playNote(t.noteId)},t=o([n.i(r.G)({selector:"note-info",template:n(629),styles:[n(622)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},462:function(t,e,n){"use strict";var r=n(0),i=n(201);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.PianoMode=i.a,this.modeSelected=new r._20}return t.prototype.ngOnInit=function(){},t.prototype.handlePlayBtnClick=function(){this.modeSelected.emit(i.a.Play)},t.prototype.handleQuizBtnClick=function(){this.modeSelected.emit(i.a.Quiz)},o([n.i(r.B)(),a("design:type",String)],t.prototype,"title",void 0),o([n.i(r.B)(),a("design:type","function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object)],t.prototype,"mode",void 0),o([n.i(r.C)(),a("design:type",Object)],t.prototype,"modeSelected",void 0),t=o([n.i(r.G)({selector:"play-control",template:n(630),styles:[n(623)]}),a("design:paramtypes",[])],t);var e}()},463:function(t,e,n){"use strict";var r=n(0),i=n(139),o=n(202);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){var e=this;this.quizService=t,this.QuizStatus=o.a,this.buttonClicked=new r._20,this.subscription=t.quizResult$.subscribe(function(t){t.selectedKeyId==t.actualNote.keyId?e.message="✔ Correct, well done!":e.message="✘ Incorrect"})}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.handleStartBtnClick=function(t){this.buttonClicked.emit({button:"start",level:t})},t.prototype.handleTryAgainBtnClick=function(){this.buttonClicked.emit({button:"try-again"}),this.message=""},a([n.i(r.B)(),s("design:type",Number)],t.prototype,"score",void 0),a([n.i(r.B)(),s("design:type",Number)],t.prototype,"correct",void 0),a([n.i(r.B)(),s("design:type",Number)],t.prototype,"incorrect",void 0),a([n.i(r.B)(),s("design:type",Number)],t.prototype,"total",void 0),a([n.i(r.B)(),s("design:type","function"==typeof(e="undefined"!=typeof o.a&&o.a)&&e||Object)],t.prototype,"status",void 0),a([n.i(r.B)(),s("design:type",String)],t.prototype,"description",void 0),a([n.i(r.C)(),s("design:type",Object)],t.prototype,"buttonClicked",void 0),t=a([n.i(r.G)({selector:"quiz-info",template:n(631),styles:[n(624)]}),s("design:paramtypes",["function"==typeof(c="undefined"!=typeof i.a&&i.a)&&c||Object])],t);var e,c}()},464:function(t,e,n){"use strict";var r=n(0),i=n(136);n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this._sanitizer=t}return t.prototype.transform=function(t,e){switch(void 0===e&&(e="html"),e){case"html":return this._sanitizer.bypassSecurityTrustHtml(t);case"style":return this._sanitizer.bypassSecurityTrustStyle(t);case"script":return this._sanitizer.bypassSecurityTrustScript(t);case"url":return this._sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this._sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error("Invalid safe type specified: "+e)}},t=o([n.i(r.J)({name:"safe"}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object])],t);var e}()},465:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={production:!0}},466:function(t,e,n){"use strict";var r=n(480),i=(n.n(r),n(473)),o=(n.n(i),n(469)),a=(n.n(o),n(475)),s=(n.n(a),n(474)),c=(n.n(s),n(472)),d=(n.n(c),n(471)),p=(n.n(d),n(479)),l=(n.n(p),n(468)),u=(n.n(l),n(467)),f=(n.n(u),n(477)),h=(n.n(f),n(470)),y=(n.n(h),n(478)),g=(n.n(y),n(476)),b=(n.n(g),n(481)),v=(n.n(b),n(644));n.n(v)},619:function(t,e){t.exports="#container{\r\n  width:1128px;\r\n  margin:20px auto 0px;\r\n}\r\n\r\n#side-content{\r\n  float:left;\r\n  width:328px;\r\n}\r\n\r\n#notation-component{\r\n  float:right;\r\n  width:800px;\r\n  height:392px;\r\n  background:#fff;\r\n  box-shadow:0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n  margin:0 0 20px 0;\r\n}\r\n\r\n#keyboard-component{\r\n  clear:both;\r\n  width:1128px;\r\n  margin:0;\r\n}\r\n\r\n#appDetails{\r\n  text-align:right;\r\n  color:rgba(0,0,0,0.8);\r\n  font-size:14px;\r\n  margin:0;\r\n  padding:10px 5px 0 0;\r\n}\r\n\r\n#appDetails a{\r\n  color:rgba(0,0,0,0.6);\r\n}\r\n\r\n#appDetails a:hover{\r\n  text-decoration:none;\r\n}\r\n\r\n.panel{\r\n  height:186px;\r\n  padding:0px;\r\n  margin:0 20px 20px 0;\r\n  background:#FFFFF2;\r\n  box-shadow:0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n}\r\n"},620:function(t,e){t.exports='#p-wrapper > *{\r\n    margin:0px;\r\n    padding:0px;\r\n    list-style:none;\r\n}\r\n\r\n#p-wrapper{\r\n    margin-top:20px;\r\n    background:#000;\r\n    background:-webkit-linear-gradient(-60deg,#000,#333,#000,#666,#333 70%);\r\n    background:-webkit-linear-gradient(150deg,#000,#333,#000,#666,#333 70%);\r\n    background:linear-gradient(-60deg,#000,#333,#000,#666,#333 70%);\r\n    width:1114px;\r\n    position:relative;\r\n    left:0;\r\n    padding-left:10px;\r\n    padding-top:5px;\r\n    box-shadow:0 2px 0px #666,0 3px 0px #555,0 4px 0px #444,0 6px 6px #000,inset 0 -1px 1px rgba(255,255,255,0.5),inset 0 -4px 5px #000;\r\n    border:2px solid #333;\r\n    border-radius:0 0 5px 5px;\r\n    -webkit-animation:taufik 2s;\r\n    animation:taufik 2s;\r\n}\r\nul#piano{\r\n  display:block;\r\n  width:100%;\r\n  height:240px;\r\n  border-top:2px solid #222;\r\n}\r\n\r\nul#piano li{\r\n  list-style:none;\r\n  float:left;\r\n  display:inline;\r\n  background:#aaa;\r\n  width:38px;\r\n  position:relative;\r\n  cursor:pointer;\r\n}\r\n\r\nul#piano li a,ul#piano li div.anchor{\r\n  display:block;\r\n  height:220px;\r\n  background:#fff;\r\n  background:-webkit-linear-gradient(-30deg,#f5f5f5,#fff);\r\n  background:-webkit-linear-gradient(120deg,#f5f5f5,#fff);\r\n  background:linear-gradient(-30deg,#f5f5f5,#fff);\r\n  border:1px solid #ccc;\r\n  box-shadow:inset 0 1px 0px #fff,inset 0 -1px 0px #fff,inset 1px 0px 0px #fff,inset -1px 0px 0px #fff,0 4px 3px rgba(0,0,0,0.7);\r\n  border-radius:0 0 3px 3px;\r\n}\r\n\r\nul#piano li.middlec a,ul#piano li.middlec div.anchor{\r\n    background:#dddddd;\r\n}\r\n\r\nul#piano li a:active,ul#piano li div.anchor:active{\r\n  box-shadow:0 2px 2px rgba(0,0,0,0.4);\r\n  position:relative;\r\n  top:2px;\r\n  height:216px;\r\n}\r\n\r\nul#piano li a:active:before,ul#piano li div.anchor:active:before{\r\n  content:"";\r\n  width:0px;\r\n  height:0px;\r\n  border-width:216px 5px 0px;\r\n  border-style:solid;\r\n  border-color:transparent transparent transparent rgba(0,0,0,0.1);\r\n  position:absolute;\r\n  left:0px;\r\n  top:0px;\r\n}\r\n\r\nul#piano li a:active:after,ul#piano li div.anchor:active:after{\r\n  content:"";\r\n  width:0px;\r\n  height:0px;\r\n  border-width:216px 5px 0px;\r\n  border-style:solid;\r\n  border-color:transparent rgba(0,0,0,0.1) transparent transparent;\r\n  position:absolute;\r\n  right:0px;\r\n  top:0px;\r\n}\r\nul#piano li span{\r\n  position:absolute;\r\n  top:0px;\r\n  left:-12px;\r\n  width:20px;\r\n  height:120px;\r\n  background:#333;\r\n  background:-webkit-linear-gradient(-20deg,#333,#000,#333);\r\n  background:-webkit-linear-gradient(110deg,#333,#000,#333);\r\n  background:linear-gradient(-20deg,#333,#000,#333);\r\n  z-index:10;\r\n  border-width:1px 2px 7px;\r\n  border-style:solid;\r\n  border-color:#666 #222 #111 #555;\r\n  box-shadow:inset 0px -1px 2px rgba(255,255,255,0.4),0 2px 3px rgba(0,0,0,0.4);\r\n  border-radius:0 0 2px 2px;\r\n}\r\n\r\nul#piano li span:active{\r\n  border-bottom-width:2px;\r\n  height:123px;\r\n  box-shadow:inset 0px -1px 1px rgba(255,255,255,0.4),0 1px 0px rgba(0,0,0,0.8),0 2px 2px rgba(0,0,0,0.4),0 -1px 0px #000;\r\n}\r\n@-webkit-keyframes taufik{\r\n  from{opacity:0;}\r\n  to{opacity:1;}\r\n}\r\n@keyframes taufik{\r\n  from{opacity:0;}\r\n  to{opacity:1;}\r\n}\r\n'},621:function(t,e){t.exports='div{\r\n   background-color:#ffffff;\r\n}\r\n>>> [id^="rest"]{\r\n   display:none;\r\n}\r\n\r\n>>> g.note{\r\n  -webkit-transition:fill 0.3s;\r\n  transition:fill 0.3s;\r\n}\r\n\r\n>>> g.note:hover{\r\n  fill:#ff9800;\r\n  cursor:pointer;\r\n}\r\n\r\n\r\n'},622:function(t,e){t.exports=".container{\r\n  text-align:center;\r\n  padding-left:0px;\r\n}\r\n\r\n.container>div>p{\r\n   padding:10px;\r\n}\r\n\r\n.note-card{\r\n  display:inline-block;\r\n  text-align:center;\r\n  margin:25px 10px;\r\n  padding:0px;\r\n  width:90px;\r\n   background-color:#FFFFF2;\r\n  color:#0D2534;\r\n  border:2px solid #435D6D;\r\n  box-shadow:0 4px 8px 0 rgba(0,0,0,0.2);\r\n  -webkit-transition:0.3s;\r\n  transition:0.3s;\r\n  cursor:pointer;\r\n}\r\n\r\n.note-card:hover{\r\n   color:#FFFFF2;\r\n  background-color:#617986;\r\n  box-shadow:0 8px 16px 0 rgba(0,0,0,0.2);\r\n}\r\n\r\n.note-card-or{\r\n  display:inline-block;\r\n  text-align:center;\r\n  font-size:22px;\r\n  color:#435D6D;\r\n  width:30px;\r\n  padding-top:60px;\r\n  vertical-align:top;\r\n}\r\n\r\n.name{\r\n  display:block;\r\n  height:60px;\r\n  font-size:40px;\r\n  font-weight:bold;\r\n  padding-top:8px;\r\n}\r\n\r\n.octave{\r\n  display:block;\r\n  font-size:14px;\r\n  padding:4px;\r\n}\r\n"},623:function(t,e){t.exports=".content{\r\n  padding:10px;\r\n  text-align:center;\r\n}\r\n\r\n.selected{\r\n   background-color:#513410;\r\n   font-weight:bold;\r\n}\r\n\r\n#play-btn{\r\n   margin-right:10px;\r\n}\r\n\r\n\r\n"},624:function(t,e){t.exports=".content{\r\n   text-align:center;\r\n   padding:10px;\r\n}\r\n\r\n.dropdown{\r\n   padding:5px;\r\n   margin:0 0 0 10px;\r\n   width:100px;\r\n   font-size:16px;\r\n}\r\n\r\n.score-label{\r\n  display:inline-block;\r\n  width:100px;\r\n  font-size:18px;\r\n  font-weight:bold;\r\n  padding:4px 6px 4px 6px;\r\n  margin:0;\r\n  color:#FFFFF2;\r\n  background-color:#617986;\r\n  border:2px solid #617986;\r\n}\r\n\r\n.score{\r\n  display:inline-block;\r\n  width:50px;\r\n  font-size:18px;\r\n  padding:4px 6px 4px 6px;\r\n  margin:0;\r\n  color:#1C3747;\r\n  background-color:#FFFFFF;\r\n  border:2px solid #617986;\r\n}\r\n\r\n.correct{\r\n  color:#FFFFFF;\r\n  background-color:#4CAF50;\r\n  border:2px solid #4CAF50;\r\n}\r\n\r\n.incorrect{\r\n  color:#FFFFFF;\r\n  background-color:#f44336;\r\n  border:2px solid #f44336;\r\n}\r\n\r\n.red{ background-color:#f44336; }\r\n.green{ background-color:#4CAF50; }\r\n"},626:function(t,e){t.exports='<div id="container">\r\n  <div id="side-content">\r\n    <div class="panel">\r\n      <play-control [title]="title" [mode]="mode" (modeSelected)="handleModeSelected($event)"></play-control>\r\n    </div>\r\n    <div class="panel">\r\n      <div *ngIf="(mode == PianoMode.Play)" >\r\n         <note-info></note-info>\r\n      </div>\r\n      <div *ngIf="(mode == PianoMode.Quiz)" >\r\n         <quiz-info\r\n            [status]="quizStatus"\r\n            [correct]="quizCorrect"\r\n            [incorrect]="quizIncorrect"\r\n            [total]="quizLength"\r\n            [description]="resultDescription"\r\n            (buttonClicked)="handleButtonClicked($event)">\r\n         </quiz-info>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div id="notation-component">\r\n    <notation [mode]="mode"></notation>\r\n  </div>\r\n  <div id="keyboard-component">\r\n    <keyboard (keyPlayed)="handleKeyPlayed($event)"></keyboard>\r\n  </div>\r\n  <p id="appDetails">Built with Angular 2 - Source available on <a href="https://github.com/deanmalone/PianoPlay/" target="_blank">GitHub</a></p>\r\n</div>\r\n\r\n';
},627:function(t,e){t.exports='<div id="p-wrapper">\r\n    <ul id="piano">\r\n        <li *ngFor="let pianoKey of pianoKeys">\r\n            <div class="anchor" (click)="keyPress(pianoKey.whiteKeyId)"></div>\r\n            <span *ngIf="pianoKey.blackKeyId" (click)="keyPress(pianoKey.blackKeyId)"></span>\r\n        </li>\r\n    </ul>\r\n</div>\r\n'},628:function(t,e){t.exports='<div style="margin: 0 auto; width:800px;" [innerHTML]="notationAsSVG | safe: \'html\'"></div>\r\n'},629:function(t,e){t.exports='<div class="header-secondary">{{title}}</div>\r\n<div class="container">\r\n  <div class="note-card" *ngIf="currentNote" (click)="playNote(currentNote)">\r\n      <span class="name">{{currentNote.fullname}}</span>\r\n      <span class="octave">OCTAVE {{currentNote.octave}}</span>\r\n  </div>\r\n  <div class="note-card-or" *ngIf="alternateNote">\r\n    <span> OR </span>\r\n  </div>\r\n  <div class="note-card" *ngIf="alternateNote" (click)="playNote(alternateNote)">\r\n    <span class="name">{{alternateNote.fullname}}</span>\r\n    <span class="octave">OCTAVE {{alternateNote.octave}}</span>\r\n  </div>\r\n  <div *ngIf="!currentNote"><p>Simply press the keys on the <b>piano</b> and see the notes appear on the <b>piano score</b> and in this panel.</p></div>\r\n</div>\r\n\r\n'},630:function(t,e){t.exports='<div class="panel">\r\n   <div class="header">{{ title }}</div>\r\n   <div class="content">\r\n      <div class="row">\r\n         <span>A simple and fun way for beginners to learn music notation.</span>\r\n      </div>\r\n         <div class="row">\r\n            <button id="play-btn" class="btn btn-primary" [class.selected]="mode==PianoMode.Play" (click)="handlePlayBtnClick()">Play</button>\r\n            <button id="quiz-btn" class="btn btn-primary" [class.selected]="mode==PianoMode.Quiz" (click)="handleQuizBtnClick()">Quiz</button>\r\n         </div>\r\n   </div>\r\n</div>\r\n'},631:function(t,e){t.exports='<div class="header-secondary">Quiz</div>\r\n<div class="content">\r\n   <div *ngIf="status == QuizStatus.Starting">\r\n      <div class="row">\r\n         <span>Select level:</span>\r\n         <select #level class="dropdown">\r\n            <option value="easy">Easy</option>\r\n            <option value="medium">Medium</option>\r\n            <option value="hard">Hard</option>\r\n         </select>\r\n      </div>\r\n      <div class="row">\r\n         <button id="start-btn" class="btn btn-secondary"(click)="handleStartBtnClick(level.value)">Start</button>\r\n      </div>\r\n   </div>\r\n   <div *ngIf="status == QuizStatus.InProgress">\r\n      <div class="row">\r\n         <span>Press the correct key on the piano.</span>\r\n      </div>\r\n      <div class="row">\r\n         <span class="score-label">SCORE</span><span class="score correct">{{ correct }}</span><span class="score incorrect">{{ incorrect }}</span>\r\n      </div>\r\n      <div class="row">\r\n         <span>{{ message }}</span>\r\n      </div>\r\n   </div>\r\n   <div *ngIf="status == QuizStatus.Finished">\r\n      <div class="row">\r\n         <span>Your score: </span><span><b>{{ correct }}</b> out of {{ total }}</span>\r\n      </div>\r\n      <div class="row">\r\n         <span>{{ description }}</span>\r\n      </div>\r\n      <div class="row">\r\n         <button id="tryagain-btn" class="btn btn-secondary"(click)="handleTryAgainBtnClick()">Try Again?</button>\r\n      </div>\r\n   </div>\r\n</div>\r\n'},645:function(t,e,n){t.exports=n(346)}},[645]);
//# sourceMappingURL=main.00cf3025a8039ec0fb97.bundle.map